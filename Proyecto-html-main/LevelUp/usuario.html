<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Perfil - LevelUp</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/darkly/bootstrap.min.css"
    />

    <!-- Bootstrap icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron&family=Roboto&display=swap"
      rel="stylesheet"
    />

    <!-- Tu CSS personalizado después -->
    <link rel="stylesheet" href="../solo_administrador/css/estilogeneral.css" />
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary navbar-levelup">
       
      <div class="container-fluid">
          
        <a class="navbar-brand d-flex align-items-center" href="#">
                  Level-Up⚡Gamer   
        </a>
          
        <button
          class="navbar-toggler mx-auto d-lg-none"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>   
        </button>

          
        <div class="collapse navbar-collapse" id="navbarNav">
             
            <ul class="navbar-nav mx-auto gap-5">
             
            <li class="nav-item">
              <a class="nav-link" href="index.html">Inicio</a>
            </li>
                     
            <li class="nav-item">
              <a class="nav-link" href="categorias.html">Categorías</a>
            </li>

                
            <li class="nav-item">
              <a class="nav-link" href="login.html">Iniciar Sesión</a>
            </li>
                
            <li class="nav-item">
              <a class="nav-link" href="RegistroUsuarios.html">Registro</a>
            </li>
                     
            <li class="nav-item">
              <a class="nav-link" href="usuario.html">Mi Cuenta</a>
            </li>

            <a href="carrito.html" class="btn btn-outline-light">
                 <i class="bi bi-cart4"></i> Carrito    
            </a>
            
               
          </ul>
             

        </div>
         
      </div>
      
    </nav>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-lg mb-4">
        <div class="card-body d-flex justify-content-between align-items-center">
          <h4 class="mb-0">Tu Nivel: <span class="badge bg-info text-dark">Bronce</span></h4>
          <a href="beneficios.html" class="btn btn-outline-info">Ver Beneficios</a>
        </div>
      </div>
      
      <div class="card shadow-lg">
        <div class="card-body">
          <h2 class="text-center mb-4">Mi Perfil</h2>
          <div id="noDataAlert" class="alert alert-warning text-center" style="display:none;">
            No se encontraron datos de registro. Por favor, <a href="RegistroUsuarios.html" class="alert-link">regístrese aquí</a>.
          </div>

          <form id="profileForm" style="display:none;">             <div class="mb-3">
              <label for="profileNombre" class="form-label">Nombre de Usuario</label>
              <input type="text" class="form-control" id="profileNombre" disabled>
            </div>
            <div class="mb-3">
              <label for="profileRut" class="form-label">RUT</label>
              <input type="text" class="form-control" id="profileRut" disabled>
            </div>
            <div class="mb-3">
              <label for="profileEmail" class="form-label">Correo Electrónico</label>
              <input type="email" class="form-control" id="profileEmail" disabled>
            </div>
            <div class="mb-3">
              <label for="profileFechaNac" class="form-label">Fecha de Nacimiento</label>
              <input type="text" class="form-control" id="profileFechaNac" disabled>
            </div>
            <div class="mb-3">
              <label for="profileDireccion" class="form-label">Dirección</label>
              <input type="text" class="form-control" id="profileDireccion" disabled>
            </div>
            <div class="mb-3">
              <label for="profileRegionComuna" class="form-label">Región y Comuna</label>
              <input type="text" class="form-control" id="profileRegionComuna" disabled>
            </div>
            <div class="mb-3">
              <label for="profilePassword" class="form-label">Contraseña</label>
              <input type="password" class="form-control" id="profilePassword" value="********" disabled>
            </div>
            <div class="d-grid gap-2">
              <button type="button" class="btn btn-primary" id="editProfileBtn">Editar Perfil</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

  <footer class="bg-primary text-center text-white py-3 mt-5">
    <p class="mb-0">&copy; 2025 Tienda Gamer - Todos los derechos reservados</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
        // 1. Intentar obtener la cadena JSON de LocalStorage
        const datosJSON = localStorage.getItem('usuarioRegistrado');
        const form = document.getElementById('profileForm');
        const alert = document.getElementById('noDataAlert');

        if (datosJSON) {
            // 2. Convertir la cadena JSON a un objeto JavaScript
            const usuario = JSON.parse(datosJSON);
            
            // Mostrar el formulario
            form.style.display = 'block';

            // 3. Insertar los datos en los inputs del formulario
            document.getElementById('profileNombre').value = usuario.nombre + ' ' + usuario.apellido;
            document.getElementById('profileRut').value = usuario.rut;
            document.getElementById('profileEmail').value = usuario.mail;
            document.getElementById('profileFechaNac').value = usuario.fechaNac;
            document.getElementById('profileDireccion').value = usuario.direccion;
            
            // Combinar Región y Comuna en un solo campo para simplificar la vista de perfil
            document.getElementById('profileRegionComuna').value = usuario.region + ', ' + usuario.comuna;
            
        } else {
            // Si no hay datos, mostrar el mensaje de alerta y ocultar el formulario
            alert.style.display = 'block';
            form.style.display = 'none';
        }
    });
  </script>
</body>

</html>